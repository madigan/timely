import{d as k,u as S,a as D,r as a,o as $,c as r,b as e,e as m,F as M,f as V,g as b,_ as E,h as A,i as B,t as y,n as N,j,k as u}from"./index-j3ZGja0h.js";const F={class:"p-8 max-w-4xl mx-auto"},T={class:"bg-base-100 rounded-lg shadow-sm p-6 mb-8"},z={class:"space-y-4"},L={class:"flex items-center space-x-3"},P={class:"font-medium"},q={key:0,class:"badge badge-primary badge-sm"},G=["checked","onChange"],H={class:"bg-base-100 rounded-lg shadow-sm p-6"},I={class:"bg-base-100 rounded-lg shadow-sm p-6 mt-8"},J={class:"modal-box"},K={class:"py-4"},O={class:"modal-action"},W=k({__name:"SettingsView",setup(Q){const v=S(),d=D(),f=a([]),c=a(!1),g=a(!1),n=a(!1),l=a(null),i=a(null),{categories:p}=d;$(async()=>{f.value=await v.getCalendars()});function C(o){l.value=o,g.value=!0}function _(o){i.value=o,n.value=!0}function h(){i.value&&(d.deleteCategory(i.value.id),n.value=!1,i.value=null)}function x(o){l.value?d.updateCategory(l.value.id,o):d.addCategory(o)}function w(){c.value=!1,g.value=!1,l.value=null}return(o,s)=>(u(),r("div",F,[s[7]||(s[7]=e("h1",{class:"text-3xl font-bold mb-8"},"Settings",-1)),e("div",T,[s[3]||(s[3]=e("h2",{class:"text-xl font-semibold mb-4"},"Calendar Visibility",-1)),s[4]||(s[4]=e("p",{class:"text-base-content/70 mb-6"}," Choose which calendars to display in your view ",-1)),e("div",z,[(u(!0),r(M,null,V(f.value,t=>(u(),r("div",{key:t.id,class:"flex items-center justify-between p-4 bg-base-200 rounded-lg"},[e("div",L,[e("span",P,y(t.summary),1),t.primary?(u(),r("span",q,"Primary")):j("",!0)]),e("input",{type:"checkbox",class:"toggle toggle-primary",checked:t.isEnabled,onChange:R=>b(v).toggleCalendar(t.id)},null,40,G)]))),128))])]),e("div",H,[m(E,{categories:b(p),onAddCategory:s[0]||(s[0]=t=>c.value=!0),onEditCategory:C,onDeleteCategory:_},null,8,["categories"])]),e("div",I,[m(A)]),m(B,{"is-open":c.value||g.value,"editing-category":l.value,onClose:w,onSave:x},null,8,["is-open","editing-category"]),e("dialog",{class:N(["modal",{"modal-open":n.value}])},[e("div",J,[s[5]||(s[5]=e("h3",{class:"font-bold text-lg"},"Confirm Deletion",-1)),e("p",K,' Are you sure you want to delete the category "'+y(i.value?.name)+'"? This action cannot be undone. ',1),e("div",O,[e("button",{class:"btn",onClick:s[1]||(s[1]=t=>n.value=!1)},"Cancel"),e("button",{class:"btn btn-error",onClick:h},"Delete")])]),e("form",{method:"dialog",class:"modal-backdrop",onClick:s[2]||(s[2]=t=>n.value=!1)},[...s[6]||(s[6]=[e("button",null,"close",-1)])])],2)]))}});export{W as default};
